<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.14.6"/><link rel="icon" href="/tietokannat/favicon-32x32.png?v=dd253edc615d56282c5dcdfb24ca4261" type="image/png"/><link rel="manifest" href="/tietokannat/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#a2466c"/><link rel="apple-touch-icon" sizes="48x48" href="/tietokannat/icons/icon-48x48.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="72x72" href="/tietokannat/icons/icon-72x72.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="96x96" href="/tietokannat/icons/icon-96x96.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="144x144" href="/tietokannat/icons/icon-144x144.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="192x192" href="/tietokannat/icons/icon-192x192.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="256x256" href="/tietokannat/icons/icon-256x256.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="384x384" href="/tietokannat/icons/icon-384x384.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="512x512" href="/tietokannat/icons/icon-512x512.png?v=dd253edc615d56282c5dcdfb24ca4261"/><title data-react-helmet="true">Tiedon eheys</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link as="script" rel="preload" href="/tietokannat/webpack-runtime-3a0255c245ffc5167309.js"/><link as="script" rel="preload" href="/tietokannat/framework-d79a9ccabaa25efea902.js"/><link as="script" rel="preload" href="/tietokannat/app-5c8ce36b7ca7ddadeb9f.js"/><link as="script" rel="preload" href="/tietokannat/commons-18bdf9bc0a4174f228aa.js"/><link as="script" rel="preload" href="/tietokannat/component---src-templates-docs-js-7a892bb90a0bfa08d7aa.js"/><link as="fetch" rel="preload" href="/tietokannat/page-data/tiedon-eheys/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/tietokannat/page-data/sq/d/1885717130.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/tietokannat/page-data/sq/d/1950529541.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/tietokannat/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/tietokannat/page-data/sq/d/3020054368.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/tietokannat/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global xghfnh">html{--theme-ui-colors-header:#fff;--theme-ui-colors-text:#000;--theme-ui-colors-primary:#E10E49;--theme-ui-colors-secondary:#c70d3a;--theme-ui-colors-highlight:#efeffe;--theme-ui-colors-exercise:#3333ee;--theme-ui-colors-sidebar:#f8f5f1;--theme-ui-colors-background:#fff;--theme-ui-colors-borderColor:rgba(0, 0, 0, 0.15);--theme-ui-colors-footer:#E10E49;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}</style><style data-emotion="css-global dcnl1w">*{box-sizing:border-box;}html{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.5;font-weight:400;}html h1{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}html h1::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h2{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}html h2::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h3{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:24px;}html h3::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h4{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:16px;}html h4::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h5{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:14px;}html h5::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h6{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:12px;}html h6::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css ylfa0c">.css-ylfa0c{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.5;font-weight:400;}.css-ylfa0c h1{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}.css-ylfa0c h1::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h2{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}.css-ylfa0c h2::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h3{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:24px;}.css-ylfa0c h3::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h4{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:16px;}.css-ylfa0c h4::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h5{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:14px;}.css-ylfa0c h5::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h6{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:12px;}.css-ylfa0c h6::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><div class="css-ylfa0c"><style data-emotion="css-global 5u4lmb">:root{--ease-in-quad:cubic-bezier(0.55, 0.085, 0.68, 0.53);--ease-in-quart:cubic-bezier(0.895, 0.03, 0.685, 0.22);--ease-out-quad:cubic-bezier(0.25, 0.46, 0.45, 0.94);--ease-out-quart:cubic-bezier(0.165, 0.84, 0.44, 1);--ease-in-out-quad:cubic-bezier(0.455, 0.03, 0.515, 0.955);--ease-in-out-quart:cubic-bezier(0.77, 0, 0.175, 1);}*,*:before,*:after{box-sizing:inherit;}:root{box-sizing:border-box;}body{margin:0;}.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;}</style><style data-emotion="css dl5fst">.css-dl5fst{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1rem 1rem;z-index:5;background:var(--theme-ui-colors-header);-webkit-transition:all 0.25s var(--ease-in-out-quad);transition:all 0.25s var(--ease-in-out-quad);border-bottom:1px solid var(--theme-ui-colors-borderColor);}@media (min-width: 38.73684210526316em){.css-dl5fst{position:fixed;top:0;left:0;right:0;padding:1rem 1.2rem;-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}}</style><header class="css-dl5fst eneaom32"><style data-emotion="css 13apmpg">.css-13apmpg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0;text-alight:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-13apmpg eneaom30"><style data-emotion="css 1gp7fjh">.css-1gp7fjh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:1rem;}@media (min-width: 38.73684210526316em){.css-1gp7fjh{display:none;}}</style><div class="css-1gp7fjh eneaom31"><style data-emotion="css i05np8">.css-i05np8{padding:0;background:none;border:none;color:var(--theme-ui-colors-text);cursor:pointer;font-size:0.8rem;}.css-i05np8:hover{color:var(--theme-ui-colors-primary);}</style><button type="button" aria-label="Open Navigation" title="Open Navigation" class="css-i05np8 e1onh9ai0"><style data-emotion="css z2vy6x">.css-z2vy6x{display:inline-block;width:30px;height:30px;}</style><span size="30" class="css-z2vy6x e1jw6cnh0"><style data-emotion="css 17rqqes">.css-17rqqes{fill:var(--theme-ui-colors-text);-webkit-transition:all 0.2s ease-out;transition:all 0.2s ease-out;}.css-17rqqes:hover,.css-17rqqes:focus{fill:var(--theme-ui-colors-primary);}</style><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="css-17rqqes e15jrc190"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></span></button></div><style data-emotion="css 13bl6n6">.css-13bl6n6{width:10rem;}.css-13bl6n6 p{margin:0;font-size:1.6rem;}</style><div class="css-13bl6n6 ewwdldv1"><style data-emotion="css o97vb3">.css-o97vb3{display:block;-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-text);-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-o97vb3:hover,.css-o97vb3:focus{color:var(--theme-ui-colors-primary);}</style><a class="css-o97vb3 ewwdldv0" href="/tietokannat/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2641px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1219&#x27; width=&#x27;2641&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/avif" data-srcset="/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/9469b/Centria-tunnus-RGB-FI-marginaalilla.avif 660w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/bb0ac/Centria-tunnus-RGB-FI-marginaalilla.avif 1321w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/7558a/Centria-tunnus-RGB-FI-marginaalilla.avif 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><source type="image/webp" data-srcset="/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/9ecf4/Centria-tunnus-RGB-FI-marginaalilla.webp 660w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/316a0/Centria-tunnus-RGB-FI-marginaalilla.webp 1321w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/93023/Centria-tunnus-RGB-FI-marginaalilla.webp 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2641px) 2641px, 100vw" decoding="async" loading="lazy" data-src="/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg" data-srcset="/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/39f99/Centria-tunnus-RGB-FI-marginaalilla.jpg 660w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/844fa/Centria-tunnus-RGB-FI-marginaalilla.jpg 1321w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg 2641w" alt="Centria banner"/></picture><noscript><picture><source type="image/avif" srcSet="/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/9469b/Centria-tunnus-RGB-FI-marginaalilla.avif 660w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/bb0ac/Centria-tunnus-RGB-FI-marginaalilla.avif 1321w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/7558a/Centria-tunnus-RGB-FI-marginaalilla.avif 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><source type="image/webp" srcSet="/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/9ecf4/Centria-tunnus-RGB-FI-marginaalilla.webp 660w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/316a0/Centria-tunnus-RGB-FI-marginaalilla.webp 1321w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/93023/Centria-tunnus-RGB-FI-marginaalilla.webp 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2641px) 2641px, 100vw" decoding="async" loading="lazy" src="/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg" srcSet="/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/39f99/Centria-tunnus-RGB-FI-marginaalilla.jpg 660w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/844fa/Centria-tunnus-RGB-FI-marginaalilla.jpg 1321w,/tietokannat/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg 2641w" alt="Centria banner"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></a></div></div></header><style data-emotion="css pn4xbf">.css-pn4xbf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;position:relative;overflow-x:hidden;background:var(--theme-ui-colors-background);-webkit-transition:background 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad);}</style><div class="css-pn4xbf e1krdi8y3"><style data-emotion="css 1oex1pb">.css-1oex1pb{margin-left:-19rem;-webkit-flex:0 0 19rem;-ms-flex:0 0 19rem;flex:0 0 19rem;font-size:0.875rem;}@media (min-width: 38.73684210526316em){.css-1oex1pb{margin-left:0;}}</style><aside class="css-1oex1pb ednv8641"><style data-emotion="css 1wrooys">.css-1wrooys{position:fixed;top:0;bottom:0;overflow-x:hidden;overflow-y:auto;width:19rem;height:100%;padding:1rem 0;background:var(--theme-ui-colors-sidebar);-webkit-transition:0.25s var(--ease-in-out-quad);transition:0.25s var(--ease-in-out-quad);}@media (min-width: 38.73684210526316em){.css-1wrooys{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);padding:6.6rem 0 1rem;}}</style><nav class="css-1wrooys ednv8640"><style data-emotion="css pv1s1f">.css-pv1s1f{margin:0;padding:0;list-style:none;}</style><ul class="css-pv1s1f e1dzqqml0"><style data-emotion="css 1lbpo2j">.css-1lbpo2j{position:relative;display:block;padding:0;margin:0.2rem 0;width:100%;list-style:none;}</style><li class="css-1lbpo2j eo1v1f02"><style data-emotion="css 2kw81a">.css-2kw81a{margin:0.5rem 0 0.5rem 1.2rem;padding:0;list-style:none;}.css-2kw81a>li{margin:0;}</style><ul class="css-2kw81a eo1v1f00"><li class="css-1lbpo2j eo1v1f02"><style data-emotion="css zl329z">.css-zl329z{display:block;padding:0.5rem 1.8rem 0.5rem 1.2rem;width:100%;color:var(--theme-ui-colors-text);font-weight:600;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-zl329z:hover,.css-zl329z:focus,.css-zl329z.is-active{color:var(--theme-ui-colors-primary);}</style><a class="css-zl329z eo1v1f01" href="/tietokannat/johdanto">Johdanto</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/tietokannat/alkeet">SQL:n alkeet</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/tietokannat/monta-taulua">Monta taulua</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/tietokannat/lisaa-tekniikoita">Lisää tekniikoita</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/tietokannat/suunnittelu">Tietokantojen suunnittelua</a></li><li class="css-1lbpo2j eo1v1f02"><a aria-current="page" class="css-zl329z eo1v1f01 is-active" href="/tietokannat/tiedon-eheys">Tiedon eheys</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/tietokannat/tehokkuus">Tehokkuus</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/tietokannat/tehtavat">Tehtävät ja koe</a></li></ul></li></ul></nav></aside><style data-emotion="css 1a5xr11">.css-1a5xr11{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;min-width:20rem;padding-bottom:5rem;}</style><div class="css-1a5xr11 e1krdi8y2"><style data-emotion="css 1ni6xgg">.css-1ni6xgg{margin:auto;padding:2rem 1rem 2.5rem;-webkit-transition:0.25s var(--ease-in-out-quad);transition:0.25s var(--ease-in-out-quad);opacity:1;}@media (min-width: 38.73684210526316em){.css-1ni6xgg{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;padding:7rem 3rem 3rem;max-width:50rem;}}</style><main class="css-1ni6xgg e1krdi8y1"><style data-emotion="css 1daj6ng">.css-1daj6ng{padding-top:0;margin-top:0;}.css-1daj6ng::before{display:none!important;}</style><h1 class="css-1daj6ng e137ubq00">Tiedon eheys</h1><style data-emotion="css 1up8dbe">.css-1up8dbe{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}.css-1up8dbe::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><h1 id="tiedon-eheys-data-integrity" class="css-1up8dbe">Tiedon eheys (data integrity)</h1><style data-emotion="css zitybv">.css-zitybv{margin-top:32px;margin-bottom:32px;}</style><p class="css-zitybv"><em class="css-0">Tiedon eheys (data integrity)</em> viittaa siihen, että tietokannassa oleva tieto on paikkansa pitävää ja ristiriidatonta. Päävastuu tiedon laadusta on toki käyttäjällä tai sovelluksella, joka muuttaa tietokantaa, mutta myös tietokannan suunnittelija voi vaikuttaa asiaan lisäämällä tauluihin ehtoja, jotka tarkkailevat tietokantaan syötettävää tietoa.</p><style data-emotion="css vq3asz">.css-vq3asz{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}.css-vq3asz::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><h2 id="sarakkeiden-ehdot-column-conditions" class="css-vq3asz">Sarakkeiden ehdot (Column conditions)</h2><p class="css-zitybv">Voimme määrittää taulun luonnin yhteydessä sarakkeisiin liittyviä ehtoja, joita tietokantajärjestelmä valvoo tiedon lisäämisen ja muuttamisen yhteydessä. Näillä ehdoilla voi ohjata sitä, millaista tietoa tietokantaan ilmestyy. Tyypillisiä ehtoja ovat seuraavat:</p><h2 id="unique" class="css-vq3asz">UNIQUE</h2><p class="css-zitybv">Ehto <style data-emotion="css 1eipsn1">.css-1eipsn1{color:var(--theme-ui-colors-primary);background:rgba(233, 218, 172, 0.15);border-radius:3px;padding-left:0.4rem;padding-right:0.4rem;padding-top:0.2rem;padding-bottom:0.2rem;}</style><code class="css-1eipsn1">UNIQUE</code> tarkoittaa, että kyseisessä sarakkeessa tulee olla eri arvo joka rivillä. Esimerkiksi seuraavassa taulussa vaatimuksena on, että joka tuotteella on eri nimi:</p><style data-emotion="css 14vuu3">.css-14vuu3{background-color:#282c34;color:#ffffff;font-family:"Operator Mono",monospace;font-size:0.9rem;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;border-radius:6px;padding:16px;margin-top:32px;margin-bottom:32px;}.css-14vuu3 .attr-name{color:#c5a5c5;}.css-14vuu3 .attr-value{color:#8dc891;}.css-14vuu3 .comment,.css-14vuu3 .block-comment,.css-14vuu3 .prolog,.css-14vuu3 .doctype,.css-14vuu3 .cdata,.css-14vuu3 .shebang{color:#999999;}.css-14vuu3 .property,.css-14vuu3 .number,.css-14vuu3 .function-name,.css-14vuu3 .constant,.css-14vuu3 .symbol,.css-14vuu3 .deleted{color:#5a9bcf;}.css-14vuu3 .boolean{color:#ff8b50;}.css-14vuu3 .tag{color:#fc929e;}.css-14vuu3 .string{color:#8dc891;}.css-14vuu3 .punctuation{color:#8dc891;}.css-14vuu3 .selector,.css-14vuu3 .char,.css-14vuu3 .builtin,.css-14vuu3 .inserted{color:#D8DEE9;}.css-14vuu3 .function{color:#79b6f2;}.css-14vuu3 .operator,.css-14vuu3 .entity,.css-14vuu3 .url,.css-14vuu3 .variable{color:#d7deea;}.css-14vuu3 .keyword{color:#c5a5c5;}.css-14vuu3 .at-rule,.css-14vuu3 .class-name{color:#FAC863;}.css-14vuu3 .important{font-weight:400;}.css-14vuu3 .bold{font-weight:700;}.css-14vuu3 .italic{font-style:italic;}.css-14vuu3 .namespace{opacity:0.7;}.css-14vuu3 .highlight{background-color:var(--theme-ui-colors-highlight);font-weight:700;}</style><style data-emotion="css 1itelf7">.css-1itelf7{background-color:#282c34;color:#ffffff;font-family:"Operator Mono",monospace;font-size:0.9rem;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;border-radius:6px;padding:16px;margin-top:32px;margin-bottom:32px;}.css-1itelf7 .attr-name{color:#c5a5c5;}.css-1itelf7 .attr-value{color:#8dc891;}.css-1itelf7 .comment,.css-1itelf7 .block-comment,.css-1itelf7 .prolog,.css-1itelf7 .doctype,.css-1itelf7 .cdata,.css-1itelf7 .shebang{color:#999999;}.css-1itelf7 .property,.css-1itelf7 .number,.css-1itelf7 .function-name,.css-1itelf7 .constant,.css-1itelf7 .symbol,.css-1itelf7 .deleted{color:#5a9bcf;}.css-1itelf7 .boolean{color:#ff8b50;}.css-1itelf7 .tag{color:#fc929e;}.css-1itelf7 .string{color:#8dc891;}.css-1itelf7 .punctuation{color:#8dc891;}.css-1itelf7 .selector,.css-1itelf7 .char,.css-1itelf7 .builtin,.css-1itelf7 .inserted{color:#D8DEE9;}.css-1itelf7 .function{color:#79b6f2;}.css-1itelf7 .operator,.css-1itelf7 .entity,.css-1itelf7 .url,.css-1itelf7 .variable{color:#d7deea;}.css-1itelf7 .keyword{color:#c5a5c5;}.css-1itelf7 .at-rule,.css-1itelf7 .class-name{color:#FAC863;}.css-1itelf7 .important{font-weight:400;}.css-1itelf7 .bold{font-weight:700;}.css-1itelf7 .italic{font-style:italic;}.css-1itelf7 .namespace{opacity:0.7;}.css-1itelf7 .highlight{background-color:var(--theme-ui-colors-highlight);font-weight:700;}</style><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">CREATE</span><span class="token plain"> </span><span class="token keyword">TABLE</span><span class="token plain"> Products </span><span class="token punctuation">(</span><span class="token plain">id </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token keyword">PRIMARY</span><span class="token plain"> </span><span class="token keyword">KEY</span><span class="token punctuation">,</span><span class="token plain"> name </span><span class="token keyword">TEXT</span><span class="token plain"> </span><span class="token keyword">UNIQUE</span><span class="token punctuation">,</span><span class="token plain"> price </span><span class="token keyword">INTEGER</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><h2 id="not-null-ja-default" class="css-vq3asz">NOT NULL ja DEFAULT</h2><p class="css-zitybv">Ehto <code class="css-1eipsn1">NOT NULL</code> tarkoittaa, että kyseisessä sarakkeessa ei saa olla arvoa <code class="css-1eipsn1">NULL</code>. Esimerkiksi seuraavassa taulussa tuotteen hinta ei saa olla tyhjä:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">CREATE</span><span class="token plain"> </span><span class="token keyword">TABLE</span><span class="token plain"> Products </span><span class="token punctuation">(</span><span class="token plain">id </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token keyword">PRIMARY</span><span class="token plain"> </span><span class="token keyword">KEY</span><span class="token punctuation">,</span><span class="token plain"> name </span><span class="token keyword">TEXT</span><span class="token punctuation">,</span><span class="token plain"> price </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token operator">NOT</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Tähän liittyy usein myös määre <code class="css-1eipsn1">DEFAULT</code>, jonka seurauksena sarake saa tietyn oletusarvon, jos sille ei anneta arvoa rivin lisäämisessä. Esimerkiksi voimme määrittää oletusarvon 0 näin:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">CREATE</span><span class="token plain"> </span><span class="token keyword">TABLE</span><span class="token plain"> Products </span><span class="token punctuation">(</span><span class="token plain">id </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token keyword">PRIMARY</span><span class="token plain"> </span><span class="token keyword">KEY</span><span class="token punctuation">,</span><span class="token plain"> name </span><span class="token keyword">TEXT</span><span class="token punctuation">,</span><span class="token plain"> price </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token keyword">DEFAULT</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><h2 id="check" class="css-vq3asz">CHECK</h2><p class="css-zitybv">Yleisempi tapa luoda ehto on käyttää avainsanaa <code class="css-1eipsn1">CHECK</code>, jonka jälkeen voi kirjoittaa minkä tahansa ehtolausekkeen. Esimerkiksi seuraava komento luo taulun tuotteista, jossa rivin ehtona on <code class="css-1eipsn1">price &gt;= 0</code> eli hinta ei saa olla negatiivinen:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">CREATE</span><span class="token plain"> </span><span class="token keyword">TABLE</span><span class="token plain"> Products </span><span class="token punctuation">(</span><span class="token plain">id </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token keyword">PRIMARY</span><span class="token plain"> </span><span class="token keyword">KEY</span><span class="token punctuation">,</span><span class="token plain"> name </span><span class="token keyword">TEXT</span><span class="token punctuation">,</span><span class="token plain"> price </span><span class="token keyword">CHECK</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">price </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><h2 id="ehtojen-valvonta-condition-monitoring" class="css-vq3asz">Ehtojen valvonta (Condition monitoring)</h2><p class="css-zitybv">Ehtojen hyötynä on, että tietokantajärjestelmä valvoo niitä ja kieltäytyy tekemästä lisäystä tai muutosta, joka rikkoisi ehdon. Seuraavassa on esimerkki tästä SQLitessä.</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">sqlite&gt; CREATE TABLE Products (id INTEGER PRIMARY KEY, name TEXT, price CHECK (price &gt;= 0));</span></div><div class="token-line"><span class="token plain">sqlite&gt; INSERT INTO Products(name,price) VALUES (&#x27;radish&#x27;,4);</span></div><div class="token-line"><span class="token plain">sqlite&gt; INSERT INTO Products(name,price) VALUES (&#x27;celery&#x27;,7);</span></div><div class="token-line"><span class="token plain">sqlite&gt; INSERT INTO Products(name,price) VALUES (&#x27;cucumber&#x27;,-2);</span></div><div class="token-line"><span class="token plain">Error: CHECK constraint failed: Products</span></div><div class="token-line"><style data-emotion="css 13aqjzy">.css-13aqjzy{display:inline-block;}</style><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">sqlite&gt; SELECT * FROM Products;</span></div><div class="token-line"><span class="token plain">1|radish|4</span></div><div class="token-line"><span class="token plain">2|celery|7</span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">sqlite&gt; UPDATE Products SET price=-2 WHERE id=2;</span></div><div class="token-line"><span class="token plain">Error: CHECK constraint failed: Products</span></div></pre><p class="css-zitybv">Kun koetamme lisätä tauluun <code class="css-1eipsn1">Products</code> rivin, jossa hinta on negatiivinen, tämä rikkoo ehdon <code class="css-1eipsn1">price &gt;= 0</code> ja SQLite ei salli rivin lisäämistä vaan antaa virheen <code class="css-1eipsn1">Error: CHECK constraint failed: Products</code>. Samalla tavalla käy, jos koetamme muuttaa olemassa olevan rivin sarakkeen hinnan negatiiviseksi jälkeenpäin.</p><h2 id="viittausten-ehdot-reference-conditions" class="css-vq3asz">Viittausten ehdot (Reference conditions)</h2><p class="css-zitybv">Voimme liittää myös tauluihin ehtoja, jotka pitävät huolen siitä, että tauluissa olevat viittaukset viittaavat todellisiin riveihin. Tämä tapahtuu luomalla <em class="css-0">viiteavain (foreign key)</em>, joka ilmaisee, mihin taulussa oleva rivi viittaa.</p><p class="css-zitybv">Tarkastellaan esimerkkinä seuraavia tauluja:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">CREATE</span><span class="token plain"> </span><span class="token keyword">TABLE</span><span class="token plain"> Teachers </span><span class="token punctuation">(</span><span class="token plain">id </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token keyword">PRIMARY</span><span class="token plain"> </span><span class="token keyword">KEY</span><span class="token punctuation">,</span><span class="token plain"> name </span><span class="token keyword">TEXT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">CREATE</span><span class="token plain"> </span><span class="token keyword">TABLE</span><span class="token plain"> Courses </span><span class="token punctuation">(</span><span class="token plain">id </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token keyword">PRIMARY</span><span class="token plain"> </span><span class="token keyword">KEY</span><span class="token punctuation">,</span><span class="token plain"> name </span><span class="token keyword">TEXT</span><span class="token punctuation">,</span><span class="token plain"> teacher_id </span><span class="token keyword">INTEGER</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Tässä tarkoituksena on, että taulun <code class="css-1eipsn1">Courses</code> sarake <code class="css-1eipsn1">teacher_id</code> viittaa taulun <code class="css-1eipsn1">Teachers</code> sarakkeeseen <code class="css-1eipsn1">id</code>, mutta tietokannan käyttäjä voi antaa sarakkeen <code class="css-1eipsn1">teacher_id</code> arvoksi mitä tahansa (esim. luvun 123), jolloin tietokannan sisältö muuttuu epämääräiseksi.</p><p class="css-zitybv">Voimme parantaa tilannetta kertomalla taulun <code class="css-1eipsn1">Courses</code> luonnissa, että sarake <code class="css-1eipsn1">teacher_id</code> on viiteavain tauluun <code class="css-1eipsn1">Teachers</code>:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">CREATE</span><span class="token plain"> </span><span class="token keyword">TABLE</span><span class="token plain"> Courses </span><span class="token punctuation">(</span><span class="token plain">id </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token keyword">PRIMARY</span><span class="token plain"> </span><span class="token keyword">KEY</span><span class="token punctuation">,</span><span class="token plain"> name </span><span class="token keyword">TEXT</span><span class="token punctuation">,</span><span class="token plain"> teacher_id </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token keyword">REFERENCES</span><span class="token plain"> Teachers</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Tämän jälkeen voimme luottaa siihen, että taulussa <code class="css-1eipsn1">Courses</code> sarakkeen <code class="css-1eipsn1">teacher_id</code> arvot viittaavat todellisiin riveihin taulussa <code class="css-1eipsn1">Teachers</code>.</p><h2 id="viiteavaimet-sqlitessä" class="css-vq3asz">Viiteavaimet SQLitessä</h2><p class="css-zitybv">Voimmeko oikeasti luottaa, että viiteavaimet toimivat halutulla tavalla? Historiallisista syistä SQLite ei oletuksena valvo viiteavainten ehtoja, vaan meidän tulee ensin suorittaa seuraava komento:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">sqlite&gt; PRAGMA foreign_keys = ON;</span></div></pre><p class="css-zitybv">Tämä on SQLiten erikoisuus, ja muissa tietokannoissa viiteavaimia <em class="css-0">pitäisi</em> aina valvoa.</p><p class="css-zitybv">Tässä on esimerkki viiteavaimen käyttämisestä:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">sqlite&gt; PRAGMA foreign_keys = ON;</span></div><div class="token-line"><span class="token plain">sqlite&gt; CREATE TABLE Teachers (id INTEGER PRIMARY KEY, name TEXT);</span></div><div class="token-line"><span class="token plain">sqlite&gt; CREATE TABLE Courses (id INTEGER PRIMARY KEY, name TEXT, teacher_id INTEGER</span></div><div class="token-line"><span class="token plain">   ...&gt;                       REFERENCES Teachers);</span></div><div class="token-line"><span class="token plain">sqlite&gt; INSERT INTO Teachers (name) VALUES (&#x27;Ahonen&#x27;);</span></div><div class="token-line"><span class="token plain">sqlite&gt; INSERT INTO Teachers (name) VALUES (&#x27;Isohanni&#x27;);</span></div><div class="token-line"><span class="token plain">sqlite&gt; SELECT * FROM Teachers;</span></div><div class="token-line"><span class="token plain">1|Ahonen</span></div><div class="token-line"><span class="token plain">2|Isohanni</span></div><div class="token-line"><span class="token plain">sqlite&gt; INSERT INTO Courses (name, teacher_id) VALUES (&#x27;Basic programming&#x27;,2);</span></div><div class="token-line"><span class="token plain">sqlite&gt; INSERT INTO Courses (name, teacher_id) VALUES (&#x27;Algebra&#x27;,123);</span></div><div class="token-line"><span class="token plain">Error: FOREIGN KEY constraint failed</span></div></pre><p class="css-zitybv">Taulussa <code class="css-1eipsn1">Teachers</code> on kaksi opettajaa, joiden <code class="css-1eipsn1">id</code>-numerot ovat 1 ja 2. Niinpä kun koetamme lisätä tauluun <code class="css-1eipsn1">Courses</code> rivin, jossa <code class="css-1eipsn1">teacher_id</code> on 123, SQLite ei salli tätä vaan saamme virheilmoituksen <code class="css-1eipsn1">Error: FOREIGN KEY constraint failed</code>.</p><h2 id="viittaukset-ja-poistot" class="css-vq3asz">Viittaukset ja poistot</h2><p class="css-zitybv">Viittausten ehtoihin liittyy tavallisia sarakkeiden ehtoja mutkikkaampia tilanteita, koska viittaukset ovat kahden taulun välisiä. Erityisesti mitä tapahtuu, jos taulusta yritetään poistaa rivi, johon viitataan toisen taulun rivillä?</p><p class="css-zitybv">Yleensä oletuksena tietokannoissa riviä ei voi poistaa, jos siihen on viittaus muualta. Esimerkiksi jos koetamme äskeisen esimerkin päätteeksi poistaa taulusta <code class="css-1eipsn1">Teachers</code> rivin 2, tämä ei onnistu, koska siihen viitataan taulussa <code class="css-1eipsn1">Courses</code>:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token plain">sqlite</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token keyword">DELETE</span><span class="token plain"> </span><span class="token keyword">FROM</span><span class="token plain"> Teachers </span><span class="token keyword">WHERE</span><span class="token plain"> id</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Error: </span><span class="token keyword">FOREIGN</span><span class="token plain"> </span><span class="token keyword">KEY</span><span class="token plain"> </span><span class="token keyword">constraint</span><span class="token plain"> failed</span></div></pre><p class="css-zitybv">Halutessamme voimme kuitenkin määrittää taulun luonnissa tarkemmin, mitä tapahtuu tässä tilanteessa. Esimerkiksi yksi vaihtoehto on <code class="css-1eipsn1">ON DELETE CASCADE</code>, mikä tarkoittaa, että rivin poistuessa myös siihen viittaavat rivit poistetaan. Saamme tämän aikaan näin:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">CREATE</span><span class="token plain"> </span><span class="token keyword">TABLE</span><span class="token plain"> Courses </span><span class="token punctuation">(</span><span class="token plain">id </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token keyword">PRIMARY</span><span class="token plain"> </span><span class="token keyword">KEY</span><span class="token punctuation">,</span><span class="token plain"> name </span><span class="token keyword">TEXT</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      teacher_id </span><span class="token keyword">INTEGER</span><span class="token plain"> </span><span class="token keyword">REFERENCES</span><span class="token plain"> Teachers </span><span class="token keyword">ON</span><span class="token plain"> </span><span class="token keyword">DELETE</span><span class="token plain"> </span><span class="token keyword">CASCADE</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Nyt jos tietokannasta poistetaan opettaja, niin samalla poistetaan automaattisesti kaikki kurssit, joita hän opettaa. Tämä voi kuitenkin olla kyseenalainen vaihtoehto, koska tämän seurauksena tietokannan tauluista voi kadota yllättäen tietoa.</p><h2 id="poiston-seuraukset" class="css-vq3asz">Poiston seuraukset</h2><p class="css-zitybv">Mahdollisia vaihtoehtoja <code class="css-1eipsn1">ON DELETE</code> -osassa ovat:</p><ul class="css-0"><li class="css-0"><code class="css-1eipsn1">NO ACTION</code>: “älä tee mitään” (oletus)</li><li class="css-0"><code class="css-1eipsn1">RESTRICT</code>: estä poistaminen</li><li class="css-0"><code class="css-1eipsn1">CASCADE</code>: poista myös viittaavat rivit</li><li class="css-0"><code class="css-1eipsn1">SET NULL</code>: muuta viittaukset arvoksi <code class="css-1eipsn1">NULL</code></li><li class="css-0"><code class="css-1eipsn1">SET DEFAULT</code>: muuta viittaukset oletusarvoksi</li></ul><p class="css-zitybv">Hämmentävä seikka on, että myös oletusvaihtoehto <code class="css-1eipsn1">NO ACTION</code> estää rivin poistamisen, vaikka nimestä voisi päätellä muuta. Vaihtoehdot <code class="css-1eipsn1">NO ACTION</code> ja <code class="css-1eipsn1">RESTRICT</code> toimivat käytännössä lähes samalla tavalla, mutta tietokannasta riippuen niiden toiminnassa voi olla eroja joissain erikoistilanteissa.</p><h1 id="johdatus-transaktioihin" class="css-1up8dbe">Johdatus transaktioihin</h1><p class="css-zitybv"><em class="css-0">Transaktio (transaction)</em> on joukko peräkkäisiä SQL-komentoja, jotka tietokantajärjestelmä lupaa suorittaa yhtenä kokonaisuutena. Tietokannan käyttäjä voi luottaa siihen, että joko </p><ol class="css-0"><li class="css-0">kaikki komennot suoritetaan ja muutokset jäävät pysyvästi tietokantaan tai</li><li class="css-0">transaktio keskeytyy eivätkä komennot aiheuta mitään muutoksia tietokantaan.</li></ol><h2 id="acid" class="css-vq3asz">ACID</h2><p class="css-zitybv">Transaktioiden yhteydessä esiintyy usein ihanteena kirjainyhdistelmä <em class="css-0">ACID</em>, joka tulee seuraavista sanoista:</p><ul class="css-0"><li class="css-0">Atomicity: Transaktiossa olevat komennot suoritetaan yhtenä kokonaisuutena.</li><li class="css-0">Consistency: Transaktio säilyttää tietokannan sisällön eheänä.</li><li class="css-0">Isolation: Transaktiot suoritetaan eristyksessä toisistaan.</li><li class="css-0">Durability: Loppuun viedyn transaktion tekemät muutokset jäävät pysyviksi.</li></ul><h2 id="transaktion-vaiheet" class="css-vq3asz">Transaktion vaiheet</h2><p class="css-zitybv">Itse asiassa transaktio on hyvin arkipäiväinen asia tietokannan käyttämisessä, sillä oletuksena jokainen suoritettava SQL-komento on oma transaktionsa. Tarkastellaan esimerkiksi seuraavaa komentoa, joka kasvattaa jokaisen tuotteen hintaa yhdellä:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">UPDATE</span><span class="token plain"> Products </span><span class="token keyword">SET</span><span class="token plain"> price</span><span class="token operator">=</span><span class="token plain">price</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Koska komento suoritetaan transaktiona, voimme luottaa siihen, että joko jokaisen tuotteen hinta todella kasvaa yhdellä tai sitten minkään tuotteen hinta ei muutu. Jälkimmäinen voi tapahtua esimerkiksi silloin, kun sähköt katkeavat kesken päivityksen. Siinäkään tapauksessa ei siis voi käydä niin, että vain osa hinnoista muuttuu.</p><p class="css-zitybv">Usein kuitenkin sana transaktio viittaa erityisesti siihen, että kokonaisuuteen kuuluu useampi SQL-komento. Tällöin annamme ensin komennon <code class="css-1eipsn1">BEGIN</code>, joka aloittaa transaktion, sitten kaikki transaktioon kuuluvat komennot tavalliseen tapaan ja lopuksi komennon <code class="css-1eipsn1">COMMIT</code>, joka päättää transaktion.</p><p class="css-zitybv">Klassinen esimerkki transaktiosta on tilanne, jossa pankissa siirretään rahaa tililtä toiselle. Esimerkiksi seuraava transaktio siirtää 100 euroa Maijan tililtä Uolevin tilille:</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">BEGIN</span><span class="token plain"> </span><span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">UPDATE</span><span class="token plain"> Accounts </span><span class="token keyword">SET</span><span class="token plain"> balance</span><span class="token operator">=</span><span class="token plain">balance</span><span class="token operator">-</span><span class="token number">100</span><span class="token plain"> </span><span class="token keyword">WHERE</span><span class="token plain"> owner</span><span class="token operator">=</span><span class="token string">&#x27;Maija&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">UPDATE</span><span class="token plain"> Accounts </span><span class="token keyword">SET</span><span class="token plain"> balance</span><span class="token operator">=</span><span class="token plain">balance</span><span class="token operator">+</span><span class="token number">100</span><span class="token plain"> </span><span class="token keyword">WHERE</span><span class="token plain"> owner</span><span class="token operator">=</span><span class="token string">&#x27;Uolevi&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">COMMIT</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Transaktion ideana on, että mitään pysyvää muutosta ei tapahdu ennen komentoa <code class="css-1eipsn1">COMMIT</code>. Niinpä yllä olevassa esimerkissä ei ole mahdollista, että Maija menettäisi 100 euroa mutta Uolevi ei saisi mitään. Joko kummankin tilin saldo muuttuu ja rahat siirtyvät onnistuneesti tai molemmat saldot säilyvät entisellään.</p><p class="css-zitybv">Jos transaktio keskeytyy jostain syystä ennen komentoa <code class="css-1eipsn1">COMMIT</code>, kaikki transaktiossa tehdyt muutokset peruuntuvat. Yksi syy transaktion keskeytymiseen on jokin häiriö tietokoneen toiminnassa (kuten sähköjen katkeaminen), mutta voimme myös itse halutessamme keskeyttää transaktion antamalla komennon <code class="css-1eipsn1">ROLLBACK</code>.</p><h2 id="transaktioiden-kokeilu" class="css-vq3asz">Transaktioiden kokeilu</h2><p class="css-zitybv">Hyvä tapa saada ymmärrystä transaktioista on kokeilla käytännössä, miten ne toimivat. Tässä on esimerkkinä yksi keskustelu SQLiten kanssa:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">sqlite&gt; CREATE TABLE Accounts (id INTEGER PRIMARY KEY, owner TEXT, balance INTEGER);</span></div><div class="token-line"><span class="token plain">sqlite&gt; INSERT INTO Accounts (owner,balance) VALUES (&#x27;Uolevi&#x27;,350);</span></div><div class="token-line"><span class="token plain">sqlite&gt; INSERT INTO Accounts (owner,balance) VALUES (&#x27;Maija&#x27;,600);</span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">sqlite&gt; SELECT * FROM Accounts;</span></div><div class="token-line"><span class="token plain">1|Uolevi|350</span></div><div class="token-line"><span class="token plain">2|Maija|600</span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">sqlite&gt; BEGIN TRANSACTION;</span></div><div class="token-line"><span class="token plain">sqlite&gt; UPDATE Accounts SET balance=balance-100 WHERE owner=&#x27;Maija&#x27;;</span></div><div class="token-line"><span class="token plain">sqlite&gt; SELECT * FROM Accounts;</span></div><div class="token-line"><span class="token plain">1|Uolevi|350</span></div><div class="token-line"><span class="token plain">2|Maija|500</span></div><div class="token-line"><span class="token plain">sqlite&gt; ROLLBACK;</span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">sqlite&gt; SELECT * FROM Accounts;</span></div><div class="token-line"><span class="token plain">1|Uolevi|350</span></div><div class="token-line"><span class="token plain">2|Maija|600</span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">sqlite&gt; BEGIN TRANSACTION;</span></div><div class="token-line"><span class="token plain">sqlite&gt; UPDATE Accounts SET balance=balance-100 WHERE owner=&#x27;Maija&#x27;;</span></div><div class="token-line"><span class="token plain">sqlite&gt; UPDATE Accounts SET balance=balance+100 WHERE owner=&#x27;Uolevi&#x27;;</span></div><div class="token-line"><span class="token plain">sqlite&gt; COMMIT;</span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">sqlite&gt; SELECT * FROM Accounts;</span></div><div class="token-line"><span class="token plain">1|Uolevi|450</span></div><div class="token-line"><span class="token plain">2|Maija|500</span></div></pre><p class="css-zitybv">Alkutilanteessa Uolevin tilillä on 350 euroa ja Maijan tilillä on 600 euroa. Ensimmäisessä transaktiossa poistamme ensin Maijan tililtä 100 euroa, mutta sen jälkeen tulemme toisiin ajatuksiin ja keskeytämme transaktion. Niinpä transaktiossa tehty muutos peruuntuu ja tilien saldot ovat samat kuin alkutilanteessa. Toisessa transaktiossa viemme kuitenkin transaktion loppuun, minkä seurauksena Uolevin tilillä on 450 euroa ja Maijan tilillä on 500 euroa.</p><p class="css-zitybv">Huomaa, että transaktion sisällä muutokset kyllä näkyvät, vaikka niitä ei olisi tehty vielä pysyvästi tietokantaan. Esimerkiksi ensimmäisen transaktion <code class="css-1eipsn1">SELECT</code>-kysely antaa Maijan tilin saldoksi 500 euroa, koska edellinen <code class="css-1eipsn1">UPDATE</code>-komento muutti saldoa.</p><h2 id="transaktioiden-sisäinen-toiminta" class="css-vq3asz">Transaktioiden sisäinen toiminta</h2><p class="css-zitybv">Transaktioiden toteuttaminen on kiehtova tekninen haaste tietokannoissa. Tavallaan transaktion tulee tehdä muutoksia tietokantaan, koska komennot voivat riippua edellisistä komennoista, mutta toisaalta mitään ei saa muuttaa pysyvästi ennen transaktion viemistä loppuun.</p><p class="css-zitybv">Yksi keskeinen ajatus tietokantojen taustalla on tallentaa muutoksia kahdella tavalla. Ensin kuvaus muutoksesta kirjataan <em class="css-0">lokitiedostoon</em> (<code class="css-1eipsn1">write-ahead log</code>), jota voi ajatella luettelona suoritetuista komennoista. Vasta tämän jälkeen muutokset tehdään tietokannan varsinaisiin tietorakenteisiin. Nyt jos jälkimmäisessä vaiheessa sattuu jotain yllättävää, muutokset ovat jo tallessa lokitiedostossa ja ne voidaan suorittaa myöhemmin uudestaan.</p><p class="css-zitybv">Transaktioiden yhteydessä tietokantajärjestelmän täytyy myös pitää kirjaa siitä, mitkä muutokset ovat minkäkin meneillään olevan transaktion tekemiä. Käytännössä tauluihin voidaan tallentaa rivimuutoksia, jotka näkyvät vain tietyille transaktioille. Sitten jos transaktio pääsee loppuun asti, nämä muutokset liitetään taulun pysyväksi sisällöksi.</p><h1 id="rinnakkaiset-transaktiot-parallel-transactions" class="css-1up8dbe">Rinnakkaiset transaktiot (Parallel transactions)</h1><p class="css-zitybv">Lisämaustetta transaktioiden käsittelyyn tuo se, että tietokannalla voi olla useita käyttäjiä, joilla on meneillään samanaikaisia transaktioita. Missä määrin eri käyttäjien transaktiot tulisi eristää toisistaan?</p><p class="css-zitybv">Tämä on kysymys, johon ei ole yhtä oikeaa vastausta, vaan vastaus riippuu käyttötilanteesta ja myös tietokannan ominaisuuksista. Tavallaan paras ratkaisu olisi eristää transaktiot täydellisesti toisistaan, mutta toisaalta tämä voi haitata tietokannan käyttämistä.</p><h2 id="transaktoiden-eristystasot-transaction-isolation-levels" class="css-vq3asz">Transaktoiden eristystasot (Transaction isolation levels)</h2><p class="css-zitybv">SQL-standardi määrittelee transaktioiden eristystasot seuraavasti:</p><ul class="css-0"><li class="css-0"><p class="css-zitybv">Taso 1 (read uncommitted)
On sallittua, että transaktio pystyy näkemään toisen transaktion tekemän muutoksen, vaikka toista transaktiota ei ole viety loppuun (dirty read).</p></li><li class="css-0"><p class="css-zitybv">Taso 2 (read committed)
Toisin kuin tasolla 1, transaktio saa nähdä toisen transaktion tekemän muutoksen vain, jos toinen transaktio on viety loppuun.</p></li><li class="css-0"><p class="css-zitybv">Taso 3 (repeatable read)
Tason 2 vaatimus ja lisäksi jos transaktion aikana luetaan saman rivin sisältö useita kertoja, joka kerralla saadaan sama sisältö.</p></li><li class="css-0"><p class="css-zitybv">Taso 4 (serializable)
Transaktiot ovat täysin eristettyjä ja komennot käyttäytyvät samoin kuin jos transaktiot olisi suoritettu peräkkäin yksi kerrallaan jossain järjestyksessä.</p></li></ul><h2 id="esimerkki" class="css-vq3asz">Esimerkki</h2><p class="css-zitybv">Tarkastellaan tilannetta, jossa tuotteen 1 hinta on aluksi 8 ja kaksi käyttäjää suorittaa samaan aikaan komentoja transaktioiden sisällä (käyttäjän 1 komennot ovat vasemmalla ja käyttäjän 2 komennot ovat oikealla):</p><pre class="language-sql prism-code language-sql css-1itelf7"><div class="token-line"><span class="token keyword">BEGIN</span><span class="token plain"> </span><span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                                       </span><span class="token keyword">BEGIN</span><span class="token plain"> </span><span class="token keyword">TRANSACTION</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                                       </span><span class="token keyword">UPDATE</span><span class="token plain"> Products </span><span class="token keyword">SET</span><span class="token plain"> price</span><span class="token operator">=</span><span class="token number">5</span><span class="token plain"> </span><span class="token keyword">WHERE</span><span class="token plain"> id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">SELECT</span><span class="token plain"> price </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">WHERE</span><span class="token plain"> id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                                       </span><span class="token keyword">UPDATE</span><span class="token plain"> Products </span><span class="token keyword">SET</span><span class="token plain"> price</span><span class="token operator">=</span><span class="token number">7</span><span class="token plain"> </span><span class="token keyword">WHERE</span><span class="token plain"> id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                                       </span><span class="token keyword">COMMIT</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">SELECT</span><span class="token plain"> price </span><span class="token keyword">FROM</span><span class="token plain"> Products </span><span class="token keyword">WHERE</span><span class="token plain"> id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">COMMIT</span><span class="token punctuation">;</span></div></pre><p class="css-zitybv">Tasolla 1 käyttäjä 1 voi saada kyselyistä tulokset 5 ja 7, koska käyttäjän 2 tekemät muutokset voivat tulla näkyviin heti, vaikka käyttäjän 2 transaktioita ei ole viety loppuun.</p><p class="css-zitybv">Tasolla 2 käyttäjä 1 voi saada kyselyistä tulokset 8 ja 7, koska ensimmäisen kyselyn kohdalla toista transaktiota ei ole viety loppuun, kun taas toisen kyselyn kohdalla se on viety loppuun.</p><p class="css-zitybv">Tasoilla 3 ja 4 käyttäjä 1 saa kyselyistä tulokset 8 ja 8, koska tämä on tilanne ennen transaktion alkua eikä välissä loppuun viety transaktio saa muuttaa luettua rivin sisältöä.</p><h2 id="transaktiot-käytännössä" class="css-vq3asz">Transaktiot käytännössä</h2><p class="css-zitybv">Transaktioiden toteutustavat ja saatavilla olevat eristystasot riippuvat käytetystä tietokantajärjestelmästä. Esimerkiksi SQLitessä ainoa mahdollinen taso on 4, kun taas PostgreSQL toteuttaa tasot 2–4 ja oletuksena käytössä on taso 2.</p><h2 id="miksi-käyttää-eri-tasoja" class="css-vq3asz">Miksi käyttää eri tasoja?</h2><p class="css-zitybv">Eristystaso 4 on tavallaan selkeästi paras, koska silloin transaktioiden muutokset eivät voi näkyä mitenkään toisilleen. Miksi edes muut tasot ovat olemassa ja miksi esimerkiksi PostgreSQL:n oletustaso on 2?</p><p class="css-zitybv">Hyvän eristämisen hintana on, että se voi hidastaa tai estää transaktioiden suorittamista, koska transaktion vieminen loppuun voisi aiheuttaa ristiriitaisen tilanteen. Toisaalta monissa käytännön tilanteissa riittää mainiosti heikompikin eristys, kunhan tietokannan käyttäjä on siitä tietoinen.</p><p class="css-zitybv">Hyvää tietoa rinnakkaisten transaktioiden toiminnasta saa perehtymällä käytetyn tietokannan dokumentaatioon sekä testailemalla asioita itse käytännössä. Esimerkiksi voimme käynnistää itse <em class="css-0">kaksi</em> SQLite-tulkkia, avata niillä saman tietokannan ja sen jälkeen kirjoittaa transaktioita sisältäviä komentoja ja tehdä havaintoja.</p><p class="css-zitybv">Seuraava keskustelu näyttää edellisen esimerkin tuloksen kahdessa rinnakkain käynnissä olevassa SQLite-tulkissa:</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">sqlite&gt; BEGIN TRANSACTION;</span></div><div class="token-line"><span class="token plain">                                 sqlite&gt; BEGIN TRANSACTION;</span></div><div class="token-line"><span class="token plain">                                 sqlite&gt; UPDATE Products SET price=5 WHERE id=1;</span></div><div class="token-line"><span class="token plain">sqlite&gt; SELECT price FROM Products WHERE id=1;</span></div><div class="token-line"><span class="token plain">8</span></div><div class="token-line"><span class="token plain">                                 sqlite&gt; UPDATE Products SET price=7 WHERE id=1;</span></div><div class="token-line"><span class="token plain">                                 sqlite&gt; COMMIT;</span></div><div class="token-line"><span class="token plain">                                 Error: database is locked</span></div><div class="token-line"><span class="token plain">sqlite&gt; SELECT price FROM Products WHERE id=1;</span></div><div class="token-line"><span class="token plain">8</span></div><div class="token-line"><span class="token plain">sqlite&gt; COMMIT;</span></div></pre><p class="css-zitybv">Tästä näkee, että ensimmäinen transaktio tosiaan saa kummastakin kyselystä tuloksen 8. Toista transaktiota ei sen sijaan saada vietyä loppuun, vaan tulee virheviesti <code class="css-1eipsn1">Error: database is locked</code>, koska tietokanta on lukittuna samanaikaisen transaktion takia. Eristys toimii siis hyvin, mutta toista transaktiota pitäisi yrittää viedä loppuun uudestaan.</p><p class="css-zitybv">Vertailun vuoksi tässä on vastaava keskustelu PostgreSQL-tulkeissa (tasolla 2):</p><pre class="prism-code language-css-0 css-1itelf7"><div class="token-line"><span class="token plain">user=&gt; BEGIN TRANSACTION;</span></div><div class="token-line"><span class="token plain">                                 user=&gt; BEGIN TRANSACTION;</span></div><div class="token-line"><span class="token plain">                                 user=&gt; UPDATE Products SET price=5 WHERE id=1;</span></div><div class="token-line"><span class="token plain">user=&gt; SELECT price FROM Products WHERE id=1;</span></div><div class="token-line"><span class="token plain">8</span></div><div class="token-line"><span class="token plain">                                 user=&gt; UPDATE Products SET price=7 WHERE id=1;</span></div><div class="token-line"><span class="token plain">                                 user=&gt; COMMIT;</span></div><div class="token-line"><span class="token plain">user=&gt; SELECT price FROM Products WHERE id=1;</span></div><div class="token-line"><span class="token plain">7</span></div><div class="token-line"><span class="token plain">user=&gt; COMMIT;</span></div></pre><p class="css-zitybv">Nyt toisen transaktion muuttama arvo 7 ilmestyy ensimmäiseen transaktioon, mutta toisaalta molemmat transaktiot saadaan vietyä loppuun ongelmitta.</p></main></div><style data-emotion="css 7oi17p">.css-7oi17p{display:none;-webkit-flex:0 0 16rem;-ms-flex:0 0 16rem;flex:0 0 16rem;font-size:0.75rem;font-weight:600;}@media (min-width: 56.36842105263158em){.css-7oi17p{display:block;}}</style><aside class="css-7oi17p e18xy85f4"><style data-emotion="css dxzn2c">.css-dxzn2c{position:fixed;top:0;bottom:0;overflow-x:hidden;overflow-y:auto;width:16rem;height:100%;padding:7rem 1rem 0;}</style><nav class="css-dxzn2c e18xy85f3"><style data-emotion="css 1w6ve1a">.css-1w6ve1a{margin-top:0;font-size:0.7rem;font-weight:700;text-transform:uppercase;}</style><p class="css-1w6ve1a e18xy85f2">Contents</p><style data-emotion="css evawql">.css-evawql{margin:0;padding:0;list-style:none;}.css-evawql ul{margin:0;padding:0;list-style:none;}</style><ul class="css-evawql e18xy85f1"><style data-emotion="css 1uvgd5">.css-1uvgd5{margin:0.3rem 0;}</style><li class="css-1uvgd5 e18xy85f0"><style data-emotion="css 1j0udpt">.css-1j0udpt{display:inline-block;padding:0.2rem 0;width:100%;color:var(--theme-ui-colors-text);-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-1j0udpt:hover,.css-1j0udpt:focus{color:var(--theme-ui-colors-primary);}</style><a href="/tietokannat/tiedon-eheys#tiedon-eheys-data-integrity" class="css-1j0udpt e1r4v4s10">Tiedon eheys (data integrity)</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#sarakkeiden-ehdot-column-conditions" class="css-1j0udpt e1r4v4s10">Sarakkeiden ehdot (Column conditions)</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#unique" class="css-1j0udpt e1r4v4s10">UNIQUE</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#not-null-ja-default" class="css-1j0udpt e1r4v4s10">NOT NULL ja DEFAULT</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#check" class="css-1j0udpt e1r4v4s10">CHECK</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#ehtojen-valvonta-condition-monitoring" class="css-1j0udpt e1r4v4s10">Ehtojen valvonta (Condition monitoring)</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#viittausten-ehdot-reference-conditions" class="css-1j0udpt e1r4v4s10">Viittausten ehdot (Reference conditions)</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#viiteavaimet-sqlitessä" class="css-1j0udpt e1r4v4s10">Viiteavaimet SQLitessä</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#viittaukset-ja-poistot" class="css-1j0udpt e1r4v4s10">Viittaukset ja poistot</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#poiston-seuraukset" class="css-1j0udpt e1r4v4s10">Poiston seuraukset</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#johdatus-transaktioihin" class="css-1j0udpt e1r4v4s10">Johdatus transaktioihin</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#acid" class="css-1j0udpt e1r4v4s10">ACID</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#transaktion-vaiheet" class="css-1j0udpt e1r4v4s10">Transaktion vaiheet</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#transaktioiden-kokeilu" class="css-1j0udpt e1r4v4s10">Transaktioiden kokeilu</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#transaktioiden-sisäinen-toiminta" class="css-1j0udpt e1r4v4s10">Transaktioiden sisäinen toiminta</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#rinnakkaiset-transaktiot-parallel-transactions" class="css-1j0udpt e1r4v4s10">Rinnakkaiset transaktiot (Parallel transactions)</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#transaktoiden-eristystasot-transaction-isolation-levels" class="css-1j0udpt e1r4v4s10">Transaktoiden eristystasot (Transaction isolation levels)</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#esimerkki" class="css-1j0udpt e1r4v4s10">Esimerkki</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#transaktiot-käytännössä" class="css-1j0udpt e1r4v4s10">Transaktiot käytännössä</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/tietokannat/tiedon-eheys#miksi-käyttää-eri-tasoja" class="css-1j0udpt e1r4v4s10">Miksi käyttää eri tasoja?</a></li></ul></nav></aside><style data-emotion="css jl45xv">.css-jl45xv{text-align:center;position:absolute;bottom:0;width:100%;height:6rem;padding-top:10px;font-size:1rem;background:var(--theme-ui-colors-footer);color:var(--theme-ui-colors-text);}.css-jl45xv a{-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-background);}</style><footer class="css-jl45xv e1krdi8y0"><p>© <!-- -->2024<!-- -->, Julkaisija<a href="https://net.centria.fi/"> Centria</a></p><p>Lisää tietoa <a href="/tietokannat/lisenssi">Lisenssistä</a></p></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/tiedon-eheys";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-0d51d282d68ddbc99621.js"],"app":["/app-5c8ce36b7ca7ddadeb9f.js"],"component---src-pages-404-js":["/component---src-pages-404-js-546f88170e8a99e0b45e.js"],"component---src-templates-docs-js":["/component---src-templates-docs-js-7a892bb90a0bfa08d7aa.js"]};/*]]>*/</script><script src="/tietokannat/polyfill-0d51d282d68ddbc99621.js" nomodule=""></script><script src="/tietokannat/component---src-templates-docs-js-7a892bb90a0bfa08d7aa.js" async=""></script><script src="/tietokannat/commons-18bdf9bc0a4174f228aa.js" async=""></script><script src="/tietokannat/app-5c8ce36b7ca7ddadeb9f.js" async=""></script><script src="/tietokannat/framework-d79a9ccabaa25efea902.js" async=""></script><script src="/tietokannat/webpack-runtime-3a0255c245ffc5167309.js" async=""></script></body></html>